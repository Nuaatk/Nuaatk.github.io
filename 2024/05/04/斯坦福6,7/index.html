<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="TKCC">
    
    <title>
        
            斯坦福编程范式公开课第六，七节：“方法”泛化 |
        
        TK&#39;s blog
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/tk.svg">
    
<link rel="stylesheet" href="/font/css/fontawesome.min.css">

    
<link rel="stylesheet" href="/font/css/regular.min.css">

    
<link rel="stylesheet" href="/font/css/solid.min.css">

    
<link rel="stylesheet" href="/font/css/brands.min.css">

    <script id="hexo-configurations">
    let KEEP = window.KEEP || {}
    KEEP.hexo_config = {"hostname":"nuaatk.github.io","root":"/","language":"zh-CN","path":"search.xml"}
    KEEP.theme_config = {"toc":{"enable":true,"number":true,"expand_all":true,"init_open":true},"style":{"primary_color":"#0066cc","logo":"/images/tk.svg","favicon":"/images/tk.svg","avatar":"/images/tk.svg","font_size":null,"font_family":null,"hover":{"shadow":true,"scale":false},"first_screen":{"enable":false,"header_transparent":false,"background_img":"/images/bg.svg","description":"Keep writing and Keep loving.","font_color":null,"hitokoto":false},"scroll":{"progress_bar":true,"percent":false}},"local_search":{"enable":true,"preload":true},"code_copy":{},"code_block":{"tools":{"enable":true,"style":"default"},"highlight_theme":"default"},"side_tools":{},"pjax":{"enable":true},"lazyload":{"enable":true},"comment":{"enable":false,"use":"valine","valine":{"appid":null,"appkey":null,"server_urls":null,"placeholder":null},"gitalk":{"github_id":null,"github_admins":null,"repository":null,"client_id":null,"client_secret":null,"proxy":null},"twikoo":{"env_id":null,"region":null,"version":"1.6.8"},"waline":{"server_url":null,"reaction":false,"version":2}},"post":{"author_label":{"enable":true,"auto":true,"custom_label_list":["Trainee","Engineer","Architect"]},"word_count":{"enable":true,"wordcount":true,"min2read":true},"img_align":"left","copyright_info":true},"version":"3.6.1"}
    KEEP.language_ago = {"second":"%s 秒前","minute":"%s 分钟前","hour":"%s 小时前","day":"%s 天前","week":"%s 周前","month":"%s 个月前","year":"%s 年前"}
    KEEP.language_code_block = {"copy":"复制代码","copied":"已复制","fold":"折叠代码块","folded":"已折叠"}
    KEEP.language_copy_copyright = {"copy":"复制版权信息","copied":"已复制","title":"原文标题","author":"原文作者","link":"原文链接"}
  </script>
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
.progress-bar-container {
  position fixed
  top 0
  left 0
  z-index $z-index-9
  width 100%

  if (hexo-config('pjax.enable') == true) {

    .pjax-progress-bar {
      position absolute
      top 0
      left 0
      z-index $z-index-8
      width 0
      height 2px
      background var(--pjax-progress-bar-color)
      visibility hidden
      opacity 0
      transition-t("width, opacity", "0, 0", "0.1, 0.1", "linear")


      &.show {
        visibility visible
        opacity 1
      }
    }


    .pjax-progress-icon {
      position absolute
      top 0.4rem
      right 0.3rem
      z-index $z-index-8
      color var(--text-color-3)
      font-size 1.1rem
      visibility hidden

      +keep-tablet() {
        top 0.3rem
        right 0.2rem
        font-size 1rem
      }

      &.show {
        visibility visible
      }
    }
  }

  if (hexo-config('style.scroll.progress_bar') == true) {

    .scroll-progress-bar {
      position absolute
      top 0
      left 0
      z-index $z-index-7
      width 0
      height $scroll-progress-bar-height
      background var(--primary-color)
      visibility hidden
      transition-t("width", "0", "0.1", "linear")

      &.hide {
        display none !important
      }
    }
  }
}

<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            $logo-title-font-size = 2rem
$pc-search-icon-font-size = 1.5rem
$menu-bar-line-height = 2.5px
$logo-image-box-width = 46px

.header-wrapper {
  display flex
  align-items center
  justify-content center
  box-sizing border-box
  width 100%
  height 100%
  padding-top $scroll-progress-bar-height
  background var(--background-color-1)

  hover-style(false, 0, 0)

  .header-content {
    position relative
    z-index $z-index-5
    display flex
    flex-direction row
    align-items center
    justify-content space-between
    width $main-content-width
    max-width $content-max-width
    height 100%
    transition-t("max-width, width", "0, 0", "0.1, 0.1", "ease, ease")


    &.has-first-screen {
      max-width $has-fs-content-max-width
    }

    .has-toc & {
      max-width $has-toc-content-max-width
    }

    +keep-tablet() {
      width $main-content-width-tablet
    }

    +keep-mobile() {
      width $main-content-width-mobile
    }

    .left {
      display flex
      align-items center
      transition-t("transform", "0", "0.2", "linear")

      .header-shrink & {
        transform scale(0.72)
        transform-origin left
      }


      if (hexo-config('base_info.logo_img') || hexo-config('style.logo')) {
        .logo-image {
          width $logo-image-box-width
          height $logo-image-box-width
          margin-right 8px


          +keep-tablet() {
            width $logo-image-box-width * 0.9
            height $logo-image-box-width * 0.9
          }

          +keep-mobile() {
            width $logo-image-box-width * 0.8
            height $logo-image-box-width * 0.8
          }

          img {
            width 100%
            border-radius 6px
          }
        }
      }

      .logo-title {
        color var(--text-color-1)
        font-weight bold
        font-size $logo-title-font-size
        line-height 1
        letter-spacing 1px

        +keep-tablet() {
          font-size $logo-title-font-size * 0.9
        }

        +keep-mobile() {
          font-size $logo-title-font-size * 0.8
        }
      }
    }


    .right {

      .pc {

        .menu-list {
          display flex
          align-items center

          +keep-tablet() {
            display none
          }


          .menu-item {
            position relative
            float left
            margin-left 2rem
            color var(--text-color-3)
            font-size 1rem
            cursor pointer

            &:first-child {
              margin-left 0
            }


            a:hover
            .active {

              &::after {
                position absolute
                bottom -10px
                left 50%
                width 100%
                height 2px
                background var(--primary-color)
                transform translateX(-50%)
                content ''
                transition-t("transform, bottom", "0, 0", "0.2, 0.2", "linear, linear")

                .header-shrink & {
                  bottom -($header-shrink-height / 2 - 12)
                }
              }
            }

            &.search {
              margin-left 26px
              font-size $pc-search-icon-font-size

              i {
                color var(--text-color-3)
              }
            }
          }
        }
      }


      .mobile {
        display flex
        align-items center
        justify-content space-between

        .icon-item {
          position relative
          display none
          width 20px
          height 20px
          margin-left 12px
          color var(--text-color-3)
          font-size 18px
          cursor pointer

          i {
            color var(--text-color-3)
          }

          &:first-child {
            margin-left 0
          }

          +keep-tablet() {
            display flex
            align-items center
            justify-content center
          }
        }

        .menu-bar {

          .menu-bar-middle {
            position relative
            width 18px
            height $menu-bar-line-height
            background var(--text-color-3)

            .header-drawer-show & {
              background transparent
            }


            &::before
            &::after {
              position absolute
              left 0
              width 100%
              height $menu-bar-line-height
              background var(--text-color-3)
              content ''
              transition-t("transform", "0", "0.38", "ease")
            }


            &::before {
              top -6px

              .header-drawer-show & {
                transform translateY(6px) rotate(45deg)
              }
            }


            &::after {
              bottom -6px

              .header-drawer-show & {
                transform translateY(-6px) rotate(-45deg)
              }
            }
          }
        }
      }
    }
  }


  .header-drawer {
    position absolute
    top 0
    left 0
    z-index $z-index-2
    width 100%
    padding $header-height 0 20px 0
    background var(--background-color-1)
    transform scaleY(0)
    transform-origin top
    transition-t("transform", "0", "0.38", "ease")

    .header-drawer-show & {
      transform scaleY(1)
    }

    .drawer-menu-list {
      display flex
      flex-direction column
      align-items center
      justify-content flex-start

      .drawer-menu-item {
        height 38px
        margin 6px 0
        font-size 1rem

        a {
          padding 6px 20px
          color var(--text-color-3)
          border-radius 20px

          &:hover {
            color var(--text-color-2)
            border 1px solid var(--text-color-3)
          }


          &.active {
            color var(--text-color-2)
            border 1px solid var(--text-color-3)
          }
        }
      }
    }
  }


  .window-mask {
    position absolute
    top 0
    z-index $z-index-1
    width 100%
    height 100vh
    background rgba(0, 0, 0, 0.4)
    visibility hidden
    opacity 0
    transition-t("transform, opacity", "0, 0", "0.38, 0.38", "ease, ease")

    .header-drawer-show & {
      visibility visible
      opacity 1
    }
  }
}

.header-drawer-show {
  overflow hidden
}

        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="post-page-container">
        <div class="article-content-container">

            <div class="article-title">
                <span class="title-hover-animation">斯坦福编程范式公开课第六，七节：“方法”泛化</span>
            </div>

            
                <div class="article-header">
                    <div class="avatar">
                        <img src="/images/tk.svg">
                    </div>
                    <div class="info">
                        <div class="author">
                            <span class="name">TKCC</span>
                            
                                <span class="author-label">Lv3</span>
                            
                        </div>
                        <div class="meta-info">
                            .article-meta-info {
  font-size 0.8rem

  .article-meta-item {
    margin-right 0.6rem
    color var(--text-color-4)

    &:last-child {
      margin-right 0
    }
  }

  .article-date {

    .mobile {
      display none
    }

    +keep-tablet() {
      .pc {
        display none
      }

      .mobile {
        display inline
      }
    }
  }


  .article-update-date {
    +keep-tablet() {
      display none
    }
  }

  .article-tags
  .article-categories {
    display inline

    ul
    li {
      display inline
    }

    a {
      color var(--text-color-4)

      &:hover {
        color var(--primary-color)
      }
    }
  }

  .article-tags {
    +keep-tablet() {
      display none
    }
  }

  .article-min2read
  .article-wordcount {
    +keep-mobile() {
      display none
    }
  }
}

                        </div>
                    </div>
                </div>
            

            <div class="article-content keep-markdown-body">
                

                <h3 id="第6-7节：method泛化"><a href="#第6-7节：method泛化" class="headerlink" title="第6,7节：method泛化"></a>第6,7节：method泛化</h3><p>函数与method的区别</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//stack.h</span></span><br><span class="line"><span class="keyword">typedef</span> sturct&#123;</span><br><span class="line">    <span class="type">int</span> *elems;</span><br><span class="line">    <span class="type">int</span> loglength;</span><br><span class="line">    <span class="type">int</span> alloclength;</span><br><span class="line">&#125;<span class="built_in">stack</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">StackNew</span><span class="params">(<span class="built_in">stack</span> *s)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">StackDispose</span><span class="params">(<span class="built_in">stack</span> *s)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">StackPush</span><span class="params">(<span class="built_in">stack</span> *s,<span class="type">int</span> value)</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">StackPop</span><span class="params">(<span class="built_in">stack</span> *s)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//stack.c</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">StackNew</span><span class="params">(<span class="built_in">stack</span> *s)</span>&#123;</span><br><span class="line">    s-&gt;loglength=<span class="number">0</span>;</span><br><span class="line">    s-&gt;alloclength=<span class="number">4</span>;</span><br><span class="line">    s-&gt;elems=<span class="built_in">malloc</span>(<span class="number">4</span>*<span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">    assert(s-&gt;elems!=<span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">StackDispose</span><span class="params">(<span class="built_in">stack</span> *s)</span>&#123;</span><br><span class="line">    <span class="built_in">free</span>(s-&gt;elems);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">StackPush</span><span class="params">(<span class="built_in">stack</span> *s,<span class="type">int</span> value)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s-&gt;loglength==s-&gt;alloclength)&#123;</span><br><span class="line">        s-&gt;alloclength*=<span class="number">2</span>;</span><br><span class="line">        s-&gt;elems=<span class="built_in">realloc</span>(s-&gt;elems,alloclength);</span><br><span class="line">        assert(s-&gt;elems!=<span class="literal">NULL</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    s-&gt;elems[s-&gt;loglength]=value;</span><br><span class="line">    s-&gt;loglength++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">StackPop</span><span class="params">(<span class="built_in">stack</span> *s)</span></span><br><span class="line">&#123;</span><br><span class="line">    assert(s-&gt;loglength&gt;<span class="number">0</span>);</span><br><span class="line">    s-&gt;loglength--;</span><br><span class="line">    <span class="keyword">return</span> s-&gt;elems[s-&gt;loglength];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//stack.h(泛化)</span></span><br><span class="line"><span class="keyword">typedef</span> sturct&#123;</span><br><span class="line">    <span class="type">void</span> *elems;</span><br><span class="line">    <span class="type">int</span> elemSize;</span><br><span class="line">    <span class="type">int</span> loglength;</span><br><span class="line">    <span class="type">int</span> alloclength;</span><br><span class="line">&#125;<span class="built_in">stack</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">StackNew</span><span class="params">(<span class="built_in">stack</span> *s,<span class="type">int</span> elemSize)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">StackDispose</span><span class="params">(<span class="built_in">stack</span> *s)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">StackPush</span><span class="params">(<span class="built_in">stack</span> *s,<span class="type">void</span> *elemAddr)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">StackPop</span><span class="params">(<span class="built_in">stack</span> *s,<span class="type">void</span> *elemAddr)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//stack.c</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">StackNew</span><span class="params">(<span class="built_in">stack</span> *s,<span class="type">int</span> elemSize)</span>&#123;</span><br><span class="line">    assert(s-&gt;elemSize&gt;<span class="number">0</span>);</span><br><span class="line">    s-&gt;loglength=<span class="number">0</span>;</span><br><span class="line">    s-&gt;alloclength=<span class="number">4</span>;</span><br><span class="line">    s-&gt;elemSize=elemSzie;</span><br><span class="line">    s-&gt;elems=<span class="built_in">malloc</span>(<span class="number">4</span>*elemSize);</span><br><span class="line">    assert(s-&gt;elems!=<span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">StackDispose</span><span class="params">(<span class="built_in">stack</span> *s)</span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">free</span>(s-&gt;elems);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">StackGrow</span><span class="params">(<span class="built_in">stack</span> *s)</span>&#123;<span class="comment">//static代表仅在此文件内被调用</span></span><br><span class="line">    s-&gt;alloclength*=<span class="number">2</span>;</span><br><span class="line">    s-&gt;elems=<span class="built_in">realloc</span>(s-&gt;elems,s-&gt;alloclength*s-&gt;elemsSize);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">StackPush</span><span class="params">(<span class="built_in">stack</span> *s,<span class="type">void</span> *elemAddr)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s-&gt;loglength==s-&gt;alloclength)&#123;</span><br><span class="line">        StackGrow(s);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">void</span> *target=(<span class="type">char</span>*)s-&gt;elems+(s-&gt;loglenth*s-&gt;elemSzie);</span><br><span class="line">    <span class="built_in">memcpy</span>(target,elemAddr,s-&gt;elemSize);</span><br><span class="line">    s-&gt;loglength++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">StackPop</span><span class="params">(<span class="built_in">stack</span> *s,<span class="type">void</span> *elemAddr)</span>&#123;</span><br><span class="line">    <span class="type">void</span> *source=(<span class="type">char</span> *)s-&gt;elems+(s-&gt;loglength<span class="number">-1</span>)*s-&gt;elemSize;</span><br><span class="line">    <span class="built_in">memcpy</span>(elemAddr,source,s-&gt;elemSize);</span><br><span class="line">    s-&gt;loglength--;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//调用</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">char</span>* friends[]=&#123;<span class="string">&quot;Ai&quot;</span>,<span class="string">&quot;Bob&quot;</span>,<span class="string">&quot;Carl&quot;</span>&#125;;</span><br><span class="line">    <span class="built_in">stack</span> stringStack;</span><br><span class="line">    StackNew(&amp;stringStack,<span class="keyword">sizeof</span>(<span class="type">char</span>*));<span class="comment">//要存的是指针数据</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)&#123;</span><br><span class="line">        <span class="type">char</span>* copy=strdup(friends[i]);<span class="comment">//为什么要使用copy</span></span><br><span class="line">        StackPush(&amp;stringStack,&amp;copy );<span class="comment">//存储的实际是一个指向字符串的一个指针</span></span><br><span class="line">            				<span class="comment">//Push函数接收的应该是需要存储数据的地址</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">char</span> *name;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;i++)&#123;</span><br><span class="line">        StackPop(&amp;stringStack,&amp;name);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>,name);<span class="comment">//printf的%d需要传入的是指针</span></span><br><span class="line">        <span class="built_in">free</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line">    StackDispose(&amp;stringStack);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上述的调用会存在一个问题，当栈中传入的是指针类型变量时，我们使用stackDispose()函数只是将该变量所在的内存空间释放了，但是并没有释放掉该变量所指向的内存空间。（即strdup函数所申请的呢一块空间）</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//升级部分函数以支持对函数</span></span><br><span class="line"><span class="keyword">typedef</span> sturct&#123;</span><br><span class="line">    <span class="type">void</span> *elems;</span><br><span class="line">    <span class="type">int</span> elemSize;</span><br><span class="line">    <span class="type">int</span> loglength;</span><br><span class="line">    <span class="type">int</span> alloclength;</span><br><span class="line">    <span class="type">void</span> (*freefn)(<span class="type">void</span>*));</span><br><span class="line">&#125;<span class="built_in">stack</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">StackNew</span><span class="params">(<span class="built_in">stack</span> *s,<span class="type">int</span> elemSize,<span class="type">void</span>(*freefn)(<span class="type">void</span>*))</span>&#123;</span><br><span class="line">    assert(s-&gt;elemSize&gt;<span class="number">0</span>);</span><br><span class="line">    s-&gt;loglength=<span class="number">0</span>;</span><br><span class="line">    s-&gt;alloclength=<span class="number">4</span>;</span><br><span class="line">    s-&gt;elemSize=elemSzie;</span><br><span class="line">    s-&gt;elems=<span class="built_in">malloc</span>(<span class="number">4</span>*elemSize);</span><br><span class="line">    s-&gt;freenfn=freefn;</span><br><span class="line">    assert(s-&gt;elems!=<span class="literal">NULL</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">StackDispose</span><span class="params">(<span class="built_in">stack</span> *s)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s-&gt;freefn!=<span class="literal">NULL</span>)&#123;</span><br><span class="line">    	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;s-&gt;loglength;i++)&#123;</span><br><span class="line">        s-&gt;freefn((<span class="type">char</span>*)s-&gt;elems+i*s-&gt;elemSize);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(s-&gt;elems);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">StringFree</span><span class="params">(<span class="type">void</span> *elem)</span>&#123;</span><br><span class="line">	<span class="built_in">free</span>(*(<span class="type">char</span>**)elem);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//调用</span></span><br><span class="line"><span class="built_in">stack</span> stringStack</span><br><span class="line"><span class="title function_">stackNew</span><span class="params">(&amp;stringStack,<span class="keyword">sizeof</span>(<span class="type">char</span> *),StringFree)</span>;</span><br><span class="line">---与上述一样</span><br><span class="line">   </span><br><span class="line"><span class="comment">//为什么不在stackPop()函数返回之前就调用freefn呢，因为这时候pop出来的元素还在指向字符串，不能</span></span><br></pre></td></tr></table></figure>

<p>单引号只能包含单个字符，这里的AI,Bob需要使用双引号””</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//假设有一个大小为x数组，希望将前a位移到最后面去，然后将剩余的x-a个数向前移a位</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">rotate</span><span class="params">(<span class="type">void</span>* front,<span class="type">void</span>* middle,<span class="type">void</span>* end)</span>&#123;</span><br><span class="line">	<span class="type">int</span> frontSize=(<span class="type">char</span>*)middle-(<span class="type">char</span>*)front;</span><br><span class="line">    <span class="type">int</span> backSize=(<span class="type">char</span>*)end-(<span class="type">char</span>*)middle;</span><br><span class="line">    <span class="type">char</span> buffer[frontSize];</span><br><span class="line">    <span class="built_in">memcpy</span>(buffer,front,frontSize);</span><br><span class="line">    memmove(front,middle,backSize);</span><br><span class="line">    <span class="built_in">memcpy</span>((<span class="type">char</span>*)end-frontSize,buffer,frontSize);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//快速排序</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">qsort</span><span class="params">(<span class="type">void</span> *base,<span class="type">int</span> size,<span class="type">int</span> elemSize,<span class="type">int</span>(*cmpfn)(<span class="type">void</span>*))</span></span><br><span class="line"><span class="comment">//在linux中使用man qsort可以了解更多信息</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>结构体指针和结构体变量的区别</p>
<p>w</p>
<ul>
<li><p>c++中类的动态分配和静态分配(与结构体类似)</p>
<p>静态：MyClass obj1(5);</p>
<p>动态：MyClass* obj2 &#x3D; new MyClass(10);</p>
</li>
</ul>
</li>
</ul>

            </div>

            
                <div class="post-copyright-info">
                    .article-copyright-info-container {
  position relative
  box-sizing border-box
  width 100%
  padding 0.8rem 0.8rem 0.8rem 1.3rem
  font-size 1rem
  background var(--background-color-2)

  &::after {
    position absolute
    top 0
    left 0
    width 0.5rem
    height 100%
    background var(--copyright-info-color)
    content ''
  }


  &:hover {
    .copy-copyright-info {
      visibility visible
    }
  }


  .copyright-info-content {
    position relative
    box-sizing border-box
    overflow-x auto

    &::-webkit-scrollbar {
      width 0.3rem
      height 0.3rem
      transition all 0.2s ease
    }

    &::-webkit-scrollbar-thumb {
      background var(--text-color-4)
    }

    &::-webkit-scrollbar-track {
      background transparent
    }

    li {
      margin-bottom 0.4rem
      color var(--text-color-3)
      white-space nowrap

      .type
      .content {
        color var(--text-color-3)
      }

      .license {
        font-weight bold
      }

      &:last-child {
        margin-bottom 0
      }
    }
  }


  .copy-copyright-info {
    position absolute
    top 0.4rem
    right 0.4rem
    box-sizing border-box
    padding 0.3rem
    visibility hidden
    cursor pointer
    transition-t("visibility", "0", "0.2", "ease-in-out")

    i {
      color var(--text-color-3)
    }
  }
}

                </div>
            

            
                <ul class="post-tags-box">
                    
                        <li class="tag-item">
                            <a href="/tags/%E6%96%AF%E5%9D%A6%E7%A6%8F%E7%BC%96%E7%A8%8B%E8%8C%83%E5%BC%8F/">#斯坦福编程范式</a>&nbsp;
                        </li>
                    
                </ul>
            

            
                <div class="article-nav">
                    
                        <div class="article-prev">
                            <a class="prev"
                               rel="prev"
                               href="/2024/05/05/%E6%96%AF%E5%9D%A6%E7%A6%8F8,9/"
                            >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                                <span class="title flex-center">
                                <span class="post-nav-title-item">斯坦福编程范式公开课第八，九节：堆栈的内存分配</span>
                                <span class="post-nav-item">上一篇</span>
                            </span>
                            </a>
                        </div>
                    
                    
                        <div class="article-next">
                            <a class="next"
                               rel="next"
                               href="/2024/05/03/%E6%96%AF%E5%9D%A6%E7%A6%8F4,5/"
                            >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">斯坦福编程范式公开课第四，五节：“函数”泛化</span>
                                <span class="post-nav-item">下一篇</span>
                            </span>
                                <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                            </a>
                        </div>
                    
                </div>
            

            
        </div>

        
            <div class="toc-content-container">
                .post-toc-wrap {
  position relative
  box-sizing border-box
  width 100%
  height 100%
  overflow-y auto
  font-size 0.92rem

  &::-webkit-scrollbar-thumb {
    background var(--toc-scrollbar-color)
    border-radius 0.3rem
  }

  &::-webkit-scrollbar-track {
    background transparent
  }

  .post-toc {

    ol {
      margin 0
      padding 0 0.1rem 0.8rem 0.6rem
      text-align left
      list-style none

      &:last-child {
        padding-bottom 0
      }

      > ol {
        padding-left 0
      }

      a {
        transition-property all
        transition()
      }
    }


    .nav-item {
      margin-bottom 0.2rem
      overflow hidden
      line-height 1.8
      white-space nowrap
      text-overflow ellipsis
    }


    .nav {
      .nav-child {
        display hexo-config('toc.expand_all') ? block:none
      }

      .active > .nav-child {
        display block
      }

      .active-current > .nav-child {
        display block

        > .nav-item {
          display block
        }
      }


      .nav-number
      .nav-text {
        color var(--toc-text-color)
      }

      .active > a {
        .nav-number
        .nav-text {
          color var(--primary-color)
        }
      }

      .active-current > a {
        .nav-number
        .nav-text {
          color var(--primary-color)
        }
      }
    }
  }
}


            </div>
        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            .footer {
  color var(--text-color-4)
  font-size 1rem

  a {
    color var(--text-color-4)

    &:hover {
      color var(--primary-color)
    }
  }

  .info-container {
    display flex
    flex-direction column
    align-items center
    justify-content center
    padding-bottom 1rem

    .info-item {
      margin 0.2rem 0
      color var(--text-color-4)

      &.deploy-info {
        display flex

        a
        .tooltip {
          display flex
          align-items center
        }

        img {
          height 1.2rem
          margin 0 0.4rem
        }
      }
    }
  }


  .icon-animate {
    animation icon-animate 1.2s ease-in-out infinite
  }
}

        </div>
    </div>

    
        <div class="post-tools">
            $li-border-radius = 0.4rem
$li-margin-bottom = 0.8rem

.post-tools-container {
  position relative
  box-sizing border-box
  padding-top 2rem

  .tools-list {

    li {
      position relative
      box-sizing border-box
      width $post-tool-button-width
      height $post-tool-button-width
      margin-bottom $li-margin-bottom
      color var(--text-color-3)
      font-size 1.2rem
      background var(--background-color-1)
      border-radius 50%
      cursor pointer

      i {
        color var(--text-color-3)
      }

      &:hover {
        color var(--background-color-1)
        background var(--primary-color)

        i {
          color var(--background-color-1)
        }
      }


      &:last-child {
        margin-bottom 0
      }


      hover-style(true, 1.06, 1.06)

      &.toggle-show-toc {
        display none

        +keep-tablet() {
          display none !important
        }
      }


      &.go-to-comments {
        .post-comments-count {
          position absolute
          top 0
          right -1rem
          display none
          align-items center
          justify-content center
          box-sizing border-box
          min-width 1.1rem
          height 1.1rem
          padding 0 0.2rem
          color var(--badge-color)
          font-size 12px
          background var(--badge-background-color)
          border-radius 0.4rem

          +keep-tablet() {
            display none !important
          }
        }
      }
    }
  }
}

        </div>
    

    <div class="right-bottom-side-tools">
        $tools-item-width = 2.2rem
$tools-item-font-size = 1.1rem
$tools-item-border-radius = 0.1rem


.side-tools-container {
  position relative

  .tools-item {
    width $tools-item-width
    height $tools-item-width
    margin-bottom 0.2rem
    color var(--text-color-3)
    font-size $tools-item-font-size
    background var(--background-color-1)
    border-right none
    border-radius $tools-item-border-radius
    box-shadow 0.1rem 0.1rem 0.2rem var(--shadow-color)
    cursor pointer

    i {
      color var(--text-color-3)
    }

    &:hover {
      color var(--background-color-1)
      background var(--primary-color)
      box-shadow 0.2rem 0.2rem 0.4rem var(--shadow-color)

      i {
        color var(--background-color-1)
      }
    }

    +keep-tablet() {
      width $tools-item-width * 0.9
      height $tools-item-width * 0.9
      margin-bottom 0.2rem
      font-size $tools-item-font-size * 0.9
    }

    &.rss {

      a {
        width 100%
        height 100%
        border-radius $tools-item-border-radius

        &:hover {
          color var(--background-color-1)
          background var(--primary-color)
          box-shadow 0.2rem 0.2rem 0.4rem var(--shadow-color)
        }
      }
    }
  }


  .side-tools-list {
    transform translateX(100%)
    opacity 0
    transition-t("transform, opacity", "0, 0", "0.2, 0.2", "linear, linear")

    &.show {
      transform translateX(0)
      opacity 1
    }
  }


  .exposed-tools-list {

    if (hexo-config('style.scroll.percent') == true) {
      .tool-scroll-to-top {
        display none

        &.show {
          display flex
        }

        &:hover {

          .percent {
            display none
          }

          .arrow-up {
            display flex
          }
        }

        .arrow-up {
          display none
        }

        .percent {
          display flex
          font-size 1rem
        }
      }
    }
  }
}

    </div>

    .zoom-in-image-mask {
  position fixed
  top 0
  right 0
  bottom 0
  left 0
  z-index $z-index-8
  display flex
  align-items center
  justify-content center
  box-sizing border-box
  background rgba(0, 0, 0, 0)
  visibility hidden
  transition-t("visibility, background", "0, 0", "0.3, 0.3", "linear, linear")

  &.show {
    background rgba(0, 0, 0, 0.5)
    visibility visible

    .zoom-in-image {
      cursor zoom-out
    }
  }

  .zoom-in-image {
    position absolute
    z-index $z-index-9
    transform-origin center center
    will-change transform
    transition-t("transform", "0", "0.3", "linear")
  }
}


    
        $icon-size = 1.2rem
$search-header-height = 3rem

.search-pop-overlay {
  position fixed
  top 0
  left 0
  z-index $z-index-8
  display flex
  width 100%
  height 100%
  background rgba(0, 0, 0, 0)
  visibility hidden
  transition-t("visibility, background", "0, 0", "0.3, 0.3", "ease, ease")

  &.active {
    background rgba(0, 0, 0, 0.35)
    visibility visible

    .search-popup {
      transform scale(1)
    }
  }


  .search-popup {
    z-index $z-index-6
    width 70%
    height 80%
    margin auto
    background var(--background-color-1)
    border-radius 0.4rem
    transform scale(0)
    transition-t("transform", "0", "0.3", "ease")

    +keep-tablet() {
      width 80%
    }

    +keep-mobile() {
      width 90%
    }

    .search-header {
      display flex
      align-items center
      height $search-header-height
      padding 0 1rem
      background var(--text-color-6)
      border-top-left-radius 0.2rem
      border-top-right-radius 0.2rem

      .search-input-field-pre {
        margin-right 0.2rem
        color var(--text-color-3)
        font-size 1.3rem
        cursor pointer
      }

      .search-input-container {
        flex-grow 1
        padding 0.2rem

        .search-input {
          width 100%
          color var(--text-color-3)
          font-size 1.2rem
          background transparent
          border 0
          outline 0

          &::-webkit-search-cancel-button {
            display none
          }

          &::-webkit-input-placeholder {
            color var(--text-color-4)
            font-size 1rem
          }
        }
      }


      .close-popup-btn {
        color var(--text-color-3)
        font-size $icon-size
        cursor pointer

        &:hover {
          color var(--text-color-1)
        }
      }
    }


    #search-result {
      position relative
      display flex
      box-sizing border-box
      height 'calc(100% - %s)' % $search-header-height
      padding 0.3rem 1.5rem
      overflow auto

      .search-result-list {
        width 100%
        height 100%
        font-size 1rem

        li {
          box-sizing border-box
          margin 0.8rem 0
          padding 0.8rem 0
          border-bottom 0.1rem dashed var(--border-color)

          &:last-child {
            border-bottom none
          }


          .search-result-title {
            position relative
            display flex
            align-items center
            margin-bottom 0.8rem
            padding-left 1rem
            font-weight bold

            &::after {
              position absolute
              top 50%
              left 0
              width 0.4rem
              height 0.4rem
              background var(--text-color-3)
              border-radius 50%
              transform translateY(-50%)
              content ''
            }
          }


          .search-result {
            margin 0
            padding-left 1rem
            line-height 2rem
            word-wrap break-word
          }

          a {
            &:hover {
              color var(--text-color-3)
            }
          }

          .search-keyword {
            color var(--primary-color)
            font-weight bold
            border-bottom 0.1rem dashed var(--primary-color)
          }
        }
      }


      #no-result {
        margin auto
        color var(--text-color-4)
      }
    }
  }
}


    

</main>




<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/header-shrink.js"></script>

<script src="/js/back2top.js"></script>

<script src="/js/dark-light-toggle.js"></script>





    
<script src="/js/local-search.js"></script>




    
<script src="/js/code-block.js"></script>




    
<script src="/js/lazyload.js"></script>



<div class="post-scripts pjax">
    
        
<script src="/js/post-helper.js"></script>

        
            
<script src="/js/libs/anime.min.js"></script>

        
        
            
<script src="/js/toc.js"></script>

        
    
</div>


    
<script src="/js/libs/pjax.min.js"></script>

<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            KEEP.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            KEEP.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            KEEP.refresh();
        });
    });
</script>



</body>
</html>
